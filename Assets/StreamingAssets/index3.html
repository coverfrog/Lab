<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>center</title>
<SCRIPT language="JavaScript" type="text/javascript" src="http://map.vworld.kr/js/vworldMapInit.js.do?apiKey=659946E4-AFCC-3A8E-A9DD-A1833F796908"></SCRIPT>
<script type="text/javascript">
var map = null;
vworld.showMode = false;
vworld.init(
"cont1"
, "map-first"
,function() {
map = this.vmap;
map.setBaseLayer(map.vworldBaseMap);
map.setControlsType({"simpleMap":true});
map.setCenterAndZoom(14134975.826087, 4519054.8257785, 14);
map.addVWORLDControl("zoomBar");
map.addVWORLDControl("indexMap");
map.setIndexMapPosition("right-bottom");
map.addMapToolButton("init");
map.addMapToolButton("zoomin");
map.addMapToolButton("zoomout");
map.addMapToolButton("zoominbox");
map.addMapToolButton("zoomoutbox");
map.addMapToolButton("pan");
map.addMapToolButton("prev");
map.addMapToolButton("next");
map.addMapToolButton("info");
map.addMapToolButton("fullext");
map.addMapToolButton("caldist");
map.addMapToolButton("calarea");
map.events.register('moveend', this, moveend);
}
,function (obj){SOPPlugin = obj; }
,function (msg){alert('oh my god');}
);
function setModeCallback(){
vworld.setModeCallback(modecallback);
}

function setPanZoomBar(){
var pZoomBar = null;
if (map.getControlsByClass("vworld.PanZoomBar")[0] != null){
pZoomBar = map.getControlsByClass("vworld.PanZoomBar")[0];
}
else{
pZoomBar = new vworld.PanZoomBar();
}
pZoomBar.initialize({
zoomStopWidth: 30,
zoomStopHeight: 6,
sliderEvents: null,
zoombarDiv: null,
measureDiv: null,
measurebuttons : null,
divEvents: null,
isSimpleBar: false,
curPosition: 'right',
zoomWorldIcon: null,
forceFixedZoomLevel: false,
mouseDragStart: null,
deltaY: null,
zoomStart: null});
pZoomBar.redraw();
}

function moveend(e){
var point = map.getTransformXY(map.getCenter().lon,map.getCenter().lat,"EPSG:900913","EPSG:4326");
var query = "lon=" + point.x + "&lat=" + point.y;
if (point== null) return;
document.getElementById('centerx').value = point.x;
document.getElementById('centery').value = point.y;
document.getElementById('centergx').value = map.getCenter().lon;
document.getElementById('centergy').value = map.getCenter().lat;
document.getElementById('level').value = map.getZoom();
document.getElementById('scale').value = map.getScale();
}
function trans(){
var point = map.getTransformXY(document.getElementById('centerx').value,
document.getElementById('centery').value,
"EPSG:4326","EPSG:900913");
document.getElementById('centergx').value = point.x;
document.getElementById('centergy').value = point.y;
}

</script>
</head>
<body>
<div id="cont1" style="width:1300px;height:800px;"></div>
<button type="button" onclick="javascript:setPanZoomBar();">네비게이션 컨트롤러 설정</button>
현재레벨: <input type="text" name='q' id='level' value="0" maxlength="20" style="ime-mode:active;width:50px;"/>
축척:<input type="text" name='q' id='scale' value="0" maxlength="20" style="ime-mode:active;width:50px;"/>
<br>화면중심점(경위도): <input type="text" name='q' id='centerx' value="0" maxlength="20" style="ime-mode:active;width:100px;"/>
<input type="text" name='q' id='centery' value="0" maxlength="20" style="ime-mode:active;width:100px;"/>
<button type="button" onclick="javascript:trans();" >변환>></button>
화면중심점(구글좌표):<input type="text" name='q' id='centergx' value="0" maxlength="20" style="ime-mode:active;width:100px;"/>
<input type="text" name='q' id='centergy' value="0" maxlength="20" style="ime-mode:active;width:100px;"/>
</body>
</html>